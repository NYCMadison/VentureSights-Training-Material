==准备：确保PC端已安装Gephi==

# 1. 如何生成目标产业集群文件

以生成“榆林市”产业集群为例：

（1）  首先将榆林市的企业（目标企业清单）保存至<mark style="background: #FF5582A6;">“我的工作台”-“我的企业清单”</mark>内。为方便网络图谱的呈现，清单内企业数量需控制在1w以内。榆林市的企业数量是超过1w家的，我们可以通过限制企业的注册资本将企业数量减少至1w以下（本示例中榆林企业保留了注册资本大于800万的企业）；

（2）  点击<mark style="background: #FF5582A6;">“我的工作台”-“我的集群分析文件”</mark>，新建集群文件，选择目标企业清单。（相似度是集群图谱中构成边的条件，相似度可以在0.6~1中选择，系统默认为0.7。表示当企业之间的业务/技术相似度大于70%时，企业和企业之间会连成一条边）；

（3）  输入集群名称，点击“生成集群文件”并下载。
![[20231101_1.如何生成集群文件.mp4]]  

# 2. 如何进行集群的划分与渲染

（1）  使用==Gephi==打开下载好的文件；

  ![[20231101_2.1打开集群文件.mp4]]

（2）  ==布局：==选择布局方式，等待布局完毕。

一般较多的使用<mark style="background: #FF5582A6;">YifanHu或Fruchterman Reingold</mark> 布局（本示例布局为YifanHu）；
 
![[20231101_2.2如何布局.mp4]]

- 图中的每个节点代表一家企业，节点之间的位置关系，反映了企业之间业务/技术领域的相似程度；

- 点击“数据资料”，可以看到每个节点（即每个企业）的字段信息；

![[20231101_2.2展示点数据.mp4]]

（3）  ==划分集群：==点击“统计”-<mark style="background: #FF5582A6;">“模块化”</mark>，（模块化功能根据社群发现算法划分相应社群，解析度默认为1.0），即可自动进行集群的划分。划分后，在“数据资料”中，可以看到企业字段信息自动增加“modularity class”，每个class（数字）代表一个集群；

![[20231101_2.3如何划分集群.mp4]]


（4）  ==渲染集群：==

- 节点颜色：“外观”模块——按照 <mark style="background: #FF5582A6;">modularity class</mark> （即按照不同产业集群进行颜色渲染），点击
“应用”；（所有字段信息均可作为渲染条件）渲染完毕后，节点的颜色代表企业归属的不同产业集群；

![[20231101_2.4如何渲染颜色.mp4]]

- 节点大小：“外观”模块——节点（即企业）的所有字段信息均可作为节点大小渲染条件，本示例中，节点大小按照<mark style="background: #FF5582A6;">企业评分</mark>进行渲染，分数越高，节点越大；

![[20231101_2.4如何渲染大小.mp4]]

（5）==识别集群：==

注意，我们一般识别企业数量在1%以上的modularity class（集群）即可。
- （5.1）下载点数据文件，点击“数据资料”-“输出表格”，选项选择“Nodes”；

![[20231101_2.5.1下载点数据.mp4]]

- （5.2）打开下载好的文件，分别将<mark style="background: #FF5582A6;">Lable(即企业名称)与modularity class字段</mark>进行单独保存（保存格式为.xls或者.xlsx），并<mark style="background: #FF5582A6;">上传至VentureSights“企业社群行业识别”</mark>，系统会自动识别每个 modularity class(集群)的行业领域；

重新将清单下载，可以看到每个modularity class（即每个集群）对应的行业名称，以及每个企业所属的行业名称；
  ![[20231101_2.5.2如何识别集群.mp4]]
- （5.3）修改集群名称：注意系统提供的名称供参考，可以在其基础上进行名称的修改和润色，也可将行业相近的集群进行合并；

![[20231102_2.5.3修改集群名称.mp4]]  

- （5.4）将集群名称的字段信息对应至点数据文件，并上传至Gephi；

详见3.2~3.5如何上传字段信息至Gephi [[如何利用VentureSights与Gephi进行集群分析#3. 如何上传字段信息或修改数据至Gephi|Link]]

# 3.   如何上传字段信息或修改数据至Gephi
  
（1）  下载点数据文件，点击“输出表格”，选项选择“Nodes”；

![[20231101_2.5.1下载点数据.mp4]]  

（2）  打开点数据文件，将需要添加的字段信息加入至该表中。（示例：加入榆林市企业与其对应的产业集群分类字段信息）；

![[集群分类字段.png]]

【需要添加的字段信息.png↑】

![[添加字段.png]]

【添加至下载好的点数据文件.png↑】

（3）  将添加字段后的点数据文件格式改为gephi可用的UTF-8格式；

![[20231102_3.3修改文件格式.mp4]]

（4）  上传点数据文件，点击“输入电子表格”，勾选需要上传的字段；

![[20231102_3.4上传点数据文件.mp4]]  

（5） 后续颜色渲染也可以按照新加入的字段信息进行渲染；

![[20231102_3.5用新字段渲染.mp4]]
# 4.   如何计算图谱的网络指标
---

注意：每个集群单独计算网络指标。

（1）  首先过滤出目标集群：

  点击“过滤”-“属性”-“分区”（此部分显示企业的所有字段信息，均可作为过滤条件）；（示例中选择了“产业集群分类”字段，过滤出了<u>榆林市“石油化工与天然气”</u>集群）；

![[20231102_4.1过滤目标集群.mp4]]  

（2）  <mark style="background: #FF5582A6;">平均度数</mark>，点击后数值自动显示（示例中计算的是榆林市“石油化工与天然气”集群的平均度数）：平均度数是指产业集群图中，每个节点拥有的“边数“的平均值，反映了由企业之间的相似性构成的网络结构中，企业之间的潜在竞争度。

![[20231102_4.2平均度数.mp4]]  

（3）  <mark style="background: #FF5582A6;">网络密度、聚类系数</mark>，点击后自动显示数值（示例中计算的是榆林市“石油化工与天然气”集群的网络密度与聚类系数）：

网络密度是指整个产业集群图谱中节点间相互连接的密度；聚类系数是指整个产业集群的平均聚集系数，体现整个网络的贯通情况；两个指标反映了产业集群的丰富多样性以及生态成熟/稳定性。

![[20231102_4.3网络密度与聚类系数.mp4]]

# 5.   如何识别核心集群
---

（1）  计算图特征向量中心度；

点击“统计”-”特征向量中心度 运行“，计算完毕后，，在“数据资料”中，可以看到企业字段信息自动增加<mark style="background: #FF5582A6;">“Eigenvector centrality”</mark>；

（“网络特征向量中心性是图谱中<u>企业与企业之间的传递影响和连通性指标</u>，计算的是目标企业传递影响的中心性。数值越大，表示目标企业在整个集群图谱中的重要性越高，企业所构成的集群在整个图谱中的重要性越高，越能代表图谱中的核心集群；）

![[20231102_5.1计算向量中心度.mp4]]

（2）  选取“特征向量中心性”大于中值的企业；

点击“过滤”-“属性”-“范围”-<mark style="background: #FF5582A6;">“Eigenvector centrality”</mark>，过滤出均值以上的企业，此时过滤出的企业所构成的集群即为核心集群；（示例中榆林市核心集群为<u>“农产品种植业与畜牧业”，“煤化工”，“石油化工”以及“工程建设”</u>）

![[20231103_5.2识别核心集群.mp4]]
# 6.   如何生成区域与特定产业的融合图谱
---

案例参考：VentureSights公众号文章 [https://mp.weixin.qq.com/s/5CpXgacApvrCXy6V3Q2dJA](https://mp.weixin.qq.com/s/5CpXgacApvrCXy6V3Q2dJA)

==需要准备三个清单==：<u>1.城市企业清单，及企业对应的集群名称；2.目标产业链企业清单，及企业所属细分产业节点；3.城市企业、与产业链企业 合并在一起的企业清单；</u>

清单示例（生成榆林市与氢能产业的融合图谱）：

【清单1：榆林市企业清单及字段↓】

![[融合图谱所需要的清单1.png]]
【清单2：氢能产业链企业清单及字段↓】

![[融合图谱所需要的清单2.png]]

  
【清单3：榆林市企业与氢能企业合并清单↓】

![[融合图谱所需要的清单3.png]]

（1）  上传清单至VentureSights：将<mark style="background: #FF5582A6;">清单3</mark>上传至VentureSights“我的工作台”-“我的企业清单”中；  

（2）  生成集群文件：点击“我的工作台”-“我的集群分析文件”，新建集群文件，选择<mark style="background: #FF5582A6;">目标企业清单
（清单3）</mark>，生成集群文件并下载；“如何生成集群文件”教程详见模块1 [[如何利用VentureSights与Gephi进行集群分析#1. 如何生成目标产业集群文件|Link]]

（3）  使用Gephi打开下载好的集群文件，并进行布局；“如何进行集群布局”教程详见模块2 [[如何利用VentureSights与Gephi进行集群分析#2. 如何进行集群的划分与渲染|Link]]

（4）  上传字段信息：上传清单1,2,3的字段信息至Gephi（榆林市的产业分类字段、氢能产业链的产业节点字段、合并单中的大分类字段）;“如何上传字段信息至Gephi”教程详见模块3 [[如何利用VentureSights与Gephi进行集群分析#3. 如何上传字段信息或修改数据至Gephi|Link]]

（5）  多角度渲染：按照已有的字段信息和上传的字段信息可以进行多角度渲染；“如何进行集群的渲染”教程详见模块2 [[如何利用VentureSights与Gephi进行集群分析#2. 如何进行集群的划分与渲染|Link]]

渲染示例：

【以榆林产业为主视角进行渲染↓】

![[渲染榆林.png]]

【以氢能产业链为主视角进行渲染↓】

![[渲染氢能.png]]

至此融合图谱构建完成，分析师可灵活运用功能进行多维度的分析。
